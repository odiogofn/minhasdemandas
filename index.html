<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Demandas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="styles.css">

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.48.0/dist/umd/supabase.min.js" defer></script>
  <script src="app.js" defer></script>
</head>
<body>

<!-- ================= LOGIN / CADASTRO ================= -->
<div id="auth-container" class="auth-card">
  <h1>Sistema de Demandas</h1>

  <div class="auth-columns">

    <div class="auth-box">
      <h2>Entrar</h2>

      <label>Email</label>
      <input id="login-email" type="email">

      <label>Senha</label>
      <input id="login-senha" type="password">

      <button id="btn-login" class="btn primary">Entrar</button>
    </div>

    <div class="auth-box">
      <h2>Novo Cadastro</h2>

      <label>Nome</label>
      <input id="cad-nome" type="text">

      <label>Email</label>
      <input id="cad-email" type="email">

      <label>Data de Nascimento</label>
      <input id="cad-dt-nasc" type="date">

      <label>Unidade</label>
      <select id="cad-unidade">
        <option value="">Selecione</option>
        <option>ASPEC</option>
        <option>ITARGET</option>
      </select>

      <label>Tipo</label>
      <select id="cad-tipo">
        <option value="SUPORTE">Suporte</option>
        <option value="PROGRAMADOR">Programador</option>
        <option value="GESTOR">Gestor</option>
      </select>

      <label>Senha</label>
      <input id="cad-senha" type="password">

      <label>Confirmar Senha</label>
      <input id="cad-senha2" type="password">

      <button id="btn-cadastrar" class="btn secondary">Cadastrar</button>
    </div>

  </div>

  <p id="auth-status"></p>
</div>

<!-- ================= APP ================= -->
<div id="app-container" class="hidden">

  <!-- TOPO -->
  <header class="topbar">
    <div>
      <strong>Sistema de Demandas</strong>
      <span id="ajuda-perfil"></span>
    </div>
    <div>
      <span id="user-label"></span>
      <button id="btn-logout" class="btn ghost">Sair</button>
    </div>
  </header>

  <!-- ABAS -->
  <nav class="tabs">
    <button class="tab-btn active" data-tab="cad-demanda">Cadastrar Demanda</button>
    <button class="tab-btn" data-tab="clientes">Clientes</button>
    <button class="tab-btn" data-tab="demandas">Demandas</button>
    <button class="tab-btn hidden" id="tab-usuarios" data-tab="usuarios">Usuários</button>
    <button class="tab-btn" data-tab="graficos">Gráficos</button>
  </nav>

  <!-- ================= CADASTRO DEMANDA ================= -->
  <section class="tab-content" data-tab="cad-demanda" id="sec-cadastro-demanda">
    <h2>Cadastrar Demanda</h2>

    <label>Cliente</label>
    <select id="demanda-cliente"></select>

    <label>Tipo Entidade</label>
    <input id="demanda-tipo-entidade" readonly>

    <label>Município</label>
    <input id="demanda-municipio" readonly>

    <label>Assunto</label>
    <input id="demanda-assunto">

    <label>Descrição</label>
    <textarea id="demanda-descricao"></textarea>

    <label>Prioridade</label>
    <select id="demanda-prioridade">
      <option>Baixa</option>
      <option>Média</option>
      <option>Alta</option>
    </select>

    <button id="btn-salvar-demanda" class="btn primary">Salvar Demanda</button>
  </section>

  <!-- ================= CLIENTES ================= -->
  <section class="tab-content hidden" data-tab="clientes" id="sec-clientes">
    <h2>Cadastro de Clientes</h2>

    <label>Nome</label>
    <input id="cliente-nome">

    <label>Tipo Entidade</label>
    <input id="cliente-tipo">

    <label>Estado</label>
    <input id="cliente-estado">

    <label>Município</label>
    <input id="cliente-municipio">

    <button id="btn-salvar-cliente" class="btn primary">Salvar Cliente</button>

    <table>
      <thead>
        <tr>
          <th>Cliente</th>
          <th>Tipo</th>
          <th>Município</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="lista-clientes"></tbody>
    </table>
  </section>

  <!-- ================= DEMANDAS ================= -->
  <section class="tab-content hidden" data-tab="demandas" id="sec-lista-demandas">
    <h2>Demandas</h2>

    <input id="filtro-texto" placeholder="Buscar...">

    <table>
      <thead>
        <tr>
          <th>Código</th>
          <th>Cliente</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="lista-demandas"></tbody>
    </table>
  </section>

  <!-- ================= USUÁRIOS (GESTOR) ================= -->
  <section class="tab-content hidden" data-tab="usuarios" id="sec-usuarios">
    <h2>Cadastro de Usuários</h2>

    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Tipo</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="lista-usuarios"></tbody>
    </table>
  </section>

  <!-- ================= GRÁFICOS ================= -->
  <section class="tab-content hidden" data-tab="graficos" id="sec-graficos">
    <h2>Gráficos</h2>
    <p>Em breve.</p>
  </section>

</div>

</body>
</html>
