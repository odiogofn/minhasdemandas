<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Demandas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="styles.css">

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.48.0/dist/umd/supabase.min.js"></script>
  <script src="app.js" defer></script>
</head>
<body>

<!-- LOGIN -->
<div id="auth-container">
  <h2>Sistema de Demandas</h2>

  <input id="login-email" placeholder="Email">
  <input id="login-senha" type="password" placeholder="Senha">
  <button id="btn-login">Entrar</button>

  <hr>

  <input id="cad-nome" placeholder="Nome">
  <input id="cad-email" placeholder="Email">
  <input id="cad-dt-nasc" type="date">
  <select id="cad-unidade">
    <option value="">Unidade</option>
    <option>ASPEC</option>
    <option>ITARGET</option>
  </select>
  <select id="cad-tipo">
    <option>SUPORTE</option>
    <option>PROGRAMADOR</option>
    <option>GESTOR</option>
  </select>
  <input id="cad-senha" type="password" placeholder="Senha">
  <input id="cad-senha2" type="password" placeholder="Confirmar Senha">
  <button id="btn-cadastrar">Cadastrar</button>

  <p id="auth-status"></p>
</div>

<!-- APP -->
<div id="app-container" class="hidden">

  <div class="topo">
    <span id="user-label"></span>
    <button id="btn-logout">Sair</button>
  </div>

  <div class="tabs">
    <button class="tab-btn active" data-tab="cad">Cadastrar Demanda</button>
    <button class="tab-btn" data-tab="clientes">Clientes</button>
    <button class="tab-btn" data-tab="demandas">Demandas</button>
    <button class="tab-btn hidden" id="tab-usuarios" data-tab="usuarios">Usuários</button>
    <button class="tab-btn" data-tab="graficos">Gráficos</button>
  </div>

  <!-- CADASTRO DEMANDA -->
  <div class="tab-content" data-tab="cad">
    <h3>Cadastrar Demanda</h3>

    <select id="dem-cliente"></select>
    <input id="dem-tipo-entidade" readonly placeholder="Tipo Entidade">
    <input id="dem-municipio" readonly placeholder="Município">

    <input id="dem-assunto" placeholder="Assunto">
    <textarea id="dem-descricao" placeholder="Descrição"></textarea>

    <select id="dem-programador"></select>
    <input id="dem-forma-atendimento" placeholder="Forma Atendimento">

    <select id="dem-prioridade">
      <option>Baixa</option>
      <option>Média</option>
      <option>Alta</option>
    </select>

    <select id="dem-status">
      <option>ABERTA</option>
      <option>EM ANDAMENTO</option>
      <option>ENCAMINHADA</option>
      <option>CONCLUIDA</option>
    </select>

    <input id="dem-link-trello" placeholder="Link Trello">
    <input id="dem-link-email" placeholder="Link Email">

    <input id="dem-tag" placeholder="Tag">
    <button id="btn-add-tag" type="button">Adicionar Tag</button>
    <div id="tags-container"></div>

    <button id="btn-salvar-demanda">Salvar</button>
    <div id="status-bar"></div>
  </div>

  <!-- CLIENTES -->
  <div class="tab-content hidden" data-tab="clientes">
    <h3>Clientes</h3>

    <input id="cli-nome" placeholder="Cliente">
    <input id="cli-tipo" placeholder="Tipo Entidade">
    <input id="cli-estado" placeholder="Estado">
    <input id="cli-municipio" placeholder="Município">
    <input id="cli-telefone" placeholder="Telefone">
    <button id="btn-salvar-cliente">Salvar Cliente</button>

    <table>
      <thead>
        <tr>
          <th>Cliente</th>
          <th>Tipo</th>
          <th>Município</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tb-clientes"></tbody>
    </table>
  </div>

  <!-- DEMANDAS -->
  <div class="tab-content hidden" data-tab="demandas">
    <h3>Demandas</h3>
    <input id="filtro-texto" placeholder="Buscar...">

    <table>
      <thead>
        <tr>
          <th>Código</th>
          <th>Cliente</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tb-demandas"></tbody>
    </table>
  </div>

  <!-- USUÁRIOS -->
  <div class="tab-content hidden" data-tab="usuarios">
    <h3>Usuários</h3>
    <table>
      <thead>
        <tr>
          <th>Nome</th>
          <th>Email</th>
          <th>Tipo</th>
          <th>Status</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody id="tb-usuarios"></tbody>
    </table>
  </div>

  <!-- GRAFICOS -->
  <div class="tab-content hidden" data-tab="graficos">
    <h3>Gráficos</h3>
    <p>Em desenvolvimento</p>
  </div>

</div>

</body>
</html>
